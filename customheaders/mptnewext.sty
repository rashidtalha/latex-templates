% Extension of mptnew.sty, and requires it to be loaded
\RequirePackage{xparse}
\RequirePackage{mathtools}
\RequirePackage{amssymb}
\RequirePackage{esint}
% \RequirePackage{mptnew}

\RequirePackage{siunitx}
\RequirePackage{tensor}
\RequirePackage{slashed}

\sisetup{separate-uncertainty=true}

%------------------------------------------------------------
% PROBABILITY, STATISTICS
%------------------------------------------------------------
% Probability and statistics
\let\P\relax
\DeclareMathOperator{\P}{\mathbb{P}}
\DeclareMathOperator{\expected}{\mathbf{E}}
\DeclareMathOperator{\variance}{\mathbf{Var}}

%------------------------------------------------------------
% CLASSICAL PHYSICS, QUANTUM MECHANICS
%------------------------------------------------------------
% Quantum Mechanics
\DeclarePairedDelimiter{\comm}{\lbrack}{\rbrack}
\DeclarePairedDelimiter{\acomm}{\lbrace}{\rbrace}

% Dirac brackets
\DeclarePairedDelimiter{\bra}{\langle}{\rvert}
\DeclarePairedDelimiter{\ket}{\lvert}{\rangle}
\DeclarePairedDelimiterX{\braket}[3]{\langle}{\rangle}{#1\,\ifblank{#2}{}{\delimsize\vert\,\mathopen{}#2\,}\delimsize\vert\,\mathopen{}#3}
\DeclarePairedDelimiterXPP{\nord}[1]{N}{\lbrace}{\rbrace}{}{#1}
\DeclarePairedDelimiterXPP{\tord}[1]{T}{\lbrace}{\rbrace}{}{#1}

% \DeclareDocumentCommand{\at}{O{}m}{#1\rvert_{#2}}
% \newcommand{\BigO}{\mathcal{O}} % Big-O notation